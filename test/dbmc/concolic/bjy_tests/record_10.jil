i_first = {};
flatten_fun_j_82 = fun expr_b_11 -> (
    bool_j_15 = false;
    rec_fail_b_10 = bool_j_15;
    bool_j_16 = false;
    rec_fail_b_9 = bool_j_16;
    bool_j_17 = false;
    rec_fail_b_8 = bool_j_17;
    var_j_18 = expr_b_11;
    m_match_bool_j_20 = var_j_18 ~ any;
    m_match_bool_j_23 = var_j_18 ~ {bj_actual_rec, _};
    m_match_cond_j_24 = m_match_bool_j_23 ? (
            var_j_25 = expr_b_11;
            proj_j_26 = var_j_25.bj_decl_lbls;
            m_match_bool_j_28 = proj_j_26 ~ any;
            m_match_bool_j_31 = proj_j_26 ~ {a, b, _};
            m_match_cond_j_32 = m_match_bool_j_31 ? (
                    a_j_2 = proj_j_26.a;
                    b_j_1 = proj_j_26.b;
                    var_j_33 = expr_b_11;
                    proj_j_34 = var_j_33.bj_actual_rec;
                    m_match_bool_j_36 = proj_j_34 ~ any;
                    m_match_bool_j_39 = proj_j_34 ~ {a, b, _};
                    m_match_cond_j_40 = m_match_bool_j_39 ? (
                            a = proj_j_34.a;
                            b = proj_j_34.b;
                            bool_j_41 = false;
                            fail_b_17 = bool_j_41;
                            flatten_fun_j_50 = fun expr_b_16 -> (
                                var_j_42 = expr_b_16;
                                m_match_bool_j_44 = var_j_42 ~ any;
                                m_match_bool_j_47 = var_j_42 ~ int;
                                m_match_cond_j_48 = m_match_bool_j_47 ? (
                                        bool_j_49 = true
                                    ) : (
                                        m_match_cond_j_45 = m_match_bool_j_44 ? (
                                                var_j_46 = fail_b_17
                                            ) : (
                                                void_j_43 = {}
                                            )
                                    ));
                            flatten_fun_j_52 = fun bj_null -> (
                                input_j_51 = input);
                            flatten_fun_j_54 = fun expr_b_18 -> (
                                var_j_53 = expr_b_18);
                            record_j_55 = {checker = flatten_fun_j_50, generator = flatten_fun_j_52, wrapper = flatten_fun_j_54};
                            proj_j_56 = record_j_55.checker;
                            var_j_57 = a;
                            appl_j_58 = proj_j_56 var_j_57;
                            lbl_check_b_15 = appl_j_58;
                            var_j_59 = lbl_check_b_15;
                            if_j_81 = var_j_59 ? (
                                    bool_j_60 = false;
                                    fail_b_13 = bool_j_60;
                                    flatten_fun_j_69 = fun expr_b_12 -> (
                                        var_j_61 = expr_b_12;
                                        m_match_bool_j_63 = var_j_61 ~ any;
                                        m_match_bool_j_66 = var_j_61 ~ bool;
                                        m_match_cond_j_67 = m_match_bool_j_66 ? (
                                                bool_j_68 = true
                                            ) : (
                                                m_match_cond_j_64 = m_match_bool_j_63 ? (
                                                        var_j_65 = fail_b_13
                                                    ) : (
                                                        void_j_62 = {}
                                                    )
                                            ));
                                    flatten_fun_j_73 = fun bj_null_j_0 -> (
                                        int_j_70 = 0;
                                        input_j_71 = input;
                                        m_bl_i_275 = int_j_70 ~ int;
                                        m_br_i_276 = input_j_71 ~ int;
                                        m_b_i_277 = m_bl_i_275 and m_br_i_276;
                                        binop_j_72 = m_b_i_277 ? (
                                                c_binop_i_278 = int_j_70 <= input_j_71
                                            ) : (
                                                ab_i_279 = abort
                                            ));
                                    flatten_fun_j_75 = fun expr_b_14 -> (
                                        var_j_74 = expr_b_14);
                                    record_j_76 = {checker = flatten_fun_j_69, generator = flatten_fun_j_73, wrapper = flatten_fun_j_75};
                                    proj_j_77 = record_j_76.checker;
                                    var_j_78 = b;
                                    appl_j_79 = proj_j_77 var_j_78
                                ) : (
                                    var_j_80 = lbl_check_b_15
                                )
                        ) : (
                            m_match_cond_j_37 = m_match_bool_j_36 ? (
                                    var_j_38 = rec_fail_b_8
                                ) : (
                                    void_j_35 = {}
                                )
                        )
                ) : (
                    m_match_cond_j_29 = m_match_bool_j_28 ? (
                            var_j_30 = rec_fail_b_9
                        ) : (
                            void_j_27 = {}
                        )
                )
        ) : (
            m_match_cond_j_21 = m_match_bool_j_20 ? (
                    var_j_22 = rec_fail_b_10
                ) : (
                    void_j_19 = {}
                )
        ));
flatten_fun_j_128 = fun bj_null_j_5 -> (
    bool_j_83 = false;
    fail_b_6 = bool_j_83;
    flatten_fun_j_92 = fun expr_b_5 -> (
        var_j_84 = expr_b_5;
        m_match_bool_j_86 = var_j_84 ~ any;
        m_match_bool_j_89 = var_j_84 ~ bool;
        m_match_cond_j_90 = m_match_bool_j_89 ? (
                bool_j_91 = true
            ) : (
                m_match_cond_j_87 = m_match_bool_j_86 ? (
                        var_j_88 = fail_b_6
                    ) : (
                        void_j_85 = {}
                    )
            ));
    flatten_fun_j_96 = fun bj_null_j_3 -> (
        int_j_93 = 0;
        input_j_94 = input;
        m_bl_i_280 = int_j_93 ~ int;
        m_br_i_281 = input_j_94 ~ int;
        m_b_i_282 = m_bl_i_280 and m_br_i_281;
        binop_j_95 = m_b_i_282 ? (
                c_binop_i_283 = int_j_93 <= input_j_94
            ) : (
                ab_i_284 = abort
            ));
    flatten_fun_j_98 = fun expr_b_7 -> (
        var_j_97 = expr_b_7);
    record_j_99 = {checker = flatten_fun_j_92, generator = flatten_fun_j_96, wrapper = flatten_fun_j_98};
    proj_j_100 = record_j_99.generator;
    int_j_101 = 0;
    appl_j_102 = proj_j_100 int_j_101;
    b_b_1 = appl_j_102;
    bool_j_103 = false;
    fail_b_3 = bool_j_103;
    flatten_fun_j_112 = fun expr_b_2 -> (
        var_j_104 = expr_b_2;
        m_match_bool_j_106 = var_j_104 ~ any;
        m_match_bool_j_109 = var_j_104 ~ int;
        m_match_cond_j_110 = m_match_bool_j_109 ? (
                bool_j_111 = true
            ) : (
                m_match_cond_j_107 = m_match_bool_j_106 ? (
                        var_j_108 = fail_b_3
                    ) : (
                        void_j_105 = {}
                    )
            ));
    flatten_fun_j_114 = fun bj_null_j_4 -> (
        input_j_113 = input);
    flatten_fun_j_116 = fun expr_b_4 -> (
        var_j_115 = expr_b_4);
    record_j_117 = {checker = flatten_fun_j_112, generator = flatten_fun_j_114, wrapper = flatten_fun_j_116};
    proj_j_118 = record_j_117.generator;
    int_j_119 = 0;
    appl_j_120 = proj_j_118 int_j_119;
    a_b_0 = appl_j_120;
    var_j_121 = a_b_0;
    var_j_122 = b_b_1;
    record_j_123 = {a = var_j_121, b = var_j_122};
    record_j_124 = {};
    record_j_125 = {};
    record_j_126 = {a = record_j_124, b = record_j_125};
    record_j_127 = {bj_actual_rec = record_j_123, bj_decl_lbls = record_j_126});
flatten_fun_j_130 = fun expr_b_19 -> (
    var_j_129 = expr_b_19);
record_j_131 = {checker = flatten_fun_j_82, generator = flatten_fun_j_128, wrapper = flatten_fun_j_130};
proj_j_132 = record_j_131.wrapper;
int_j_133 = 1;
bool_j_134 = true;
record_j_135 = {a = int_j_133, b = bool_j_134};
record_j_136 = {};
record_j_137 = {};
record_j_138 = {a = record_j_136, b = record_j_137};
record_j_139 = {bj_actual_rec = record_j_135, bj_decl_lbls = record_j_138};
m_i_285 = proj_j_132 ~ fun;
appl_j_140 = m_i_285 ? (
        c_appl_i_286 = proj_j_132 record_j_139
    ) : (
        ab_i_287 = abort
    );
r_b_40 = appl_j_140;
proj_j_142 = r_b_40.bj_actual_rec;
record_j_143 = {};
record_j_144 = {};
record_j_145 = {a = record_j_143, b = record_j_144};
record_j_146 = {bj_actual_rec = proj_j_142, bj_decl_lbls = record_j_145};
r = record_j_146;
flatten_fun_j_214 = fun expr_b_31 -> (
    bool_j_147 = false;
    rec_fail_b_30 = bool_j_147;
    bool_j_148 = false;
    rec_fail_b_29 = bool_j_148;
    bool_j_149 = false;
    rec_fail_b_28 = bool_j_149;
    var_j_150 = expr_b_31;
    m_match_bool_j_152 = var_j_150 ~ any;
    m_match_bool_j_155 = var_j_150 ~ {bj_actual_rec, _};
    m_match_cond_j_156 = m_match_bool_j_155 ? (
            var_j_157 = expr_b_31;
            proj_j_158 = var_j_157.bj_decl_lbls;
            m_match_bool_j_160 = proj_j_158 ~ any;
            m_match_bool_j_163 = proj_j_158 ~ {a, b, _};
            m_match_cond_j_164 = m_match_bool_j_163 ? (
                    a_j_11 = proj_j_158.a;
                    b_j_10 = proj_j_158.b;
                    var_j_165 = expr_b_31;
                    proj_j_166 = var_j_165.bj_actual_rec;
                    m_match_bool_j_168 = proj_j_166 ~ any;
                    m_match_bool_j_171 = proj_j_166 ~ {a, b, _};
                    m_match_cond_j_172 = m_match_bool_j_171 ? (
                            a_j_9 = proj_j_166.a;
                            b_j_8 = proj_j_166.b;
                            bool_j_173 = false;
                            fail_b_37 = bool_j_173;
                            flatten_fun_j_182 = fun expr_b_36 -> (
                                var_j_174 = expr_b_36;
                                m_match_bool_j_176 = var_j_174 ~ any;
                                m_match_bool_j_179 = var_j_174 ~ int;
                                m_match_cond_j_180 = m_match_bool_j_179 ? (
                                        bool_j_181 = true
                                    ) : (
                                        m_match_cond_j_177 = m_match_bool_j_176 ? (
                                                var_j_178 = fail_b_37
                                            ) : (
                                                void_j_175 = {}
                                            )
                                    ));
                            flatten_fun_j_184 = fun bj_null_j_6 -> (
                                input_j_183 = input);
                            flatten_fun_j_186 = fun expr_b_38 -> (
                                var_j_185 = expr_b_38);
                            record_j_187 = {checker = flatten_fun_j_182, generator = flatten_fun_j_184, wrapper = flatten_fun_j_186};
                            proj_j_188 = record_j_187.checker;
                            var_j_189 = a_j_9;
                            appl_j_190 = proj_j_188 var_j_189;
                            lbl_check_b_35 = appl_j_190;
                            var_j_191 = lbl_check_b_35;
                            if_j_213 = var_j_191 ? (
                                    bool_j_192 = false;
                                    fail_b_33 = bool_j_192;
                                    flatten_fun_j_201 = fun expr_b_32 -> (
                                        var_j_193 = expr_b_32;
                                        m_match_bool_j_195 = var_j_193 ~ any;
                                        m_match_bool_j_198 = var_j_193 ~ bool;
                                        m_match_cond_j_199 = m_match_bool_j_198 ? (
                                                bool_j_200 = true
                                            ) : (
                                                m_match_cond_j_196 = m_match_bool_j_195 ? (
                                                        var_j_197 = fail_b_33
                                                    ) : (
                                                        void_j_194 = 
                                                            {}
                                                    )
                                            ));
                                    flatten_fun_j_205 = fun bj_null_j_7 -> (
                                        int_j_202 = 0;
                                        input_j_203 = input;
                                        m_bl_i_288 = int_j_202 ~ int;
                                        m_br_i_289 = input_j_203 ~ int;
                                        m_b_i_290 = m_bl_i_288 and m_br_i_289;
                                        binop_j_204 = m_b_i_290 ? (
                                                c_binop_i_291 = int_j_202 <= input_j_203
                                            ) : (
                                                ab_i_292 = abort
                                            ));
                                    flatten_fun_j_207 = fun expr_b_34 -> (
                                        var_j_206 = expr_b_34);
                                    record_j_208 = {checker = flatten_fun_j_201, generator = flatten_fun_j_205, wrapper = flatten_fun_j_207};
                                    proj_j_209 = record_j_208.checker;
                                    var_j_210 = b_j_8;
                                    appl_j_211 = proj_j_209 var_j_210
                                ) : (
                                    var_j_212 = lbl_check_b_35
                                )
                        ) : (
                            m_match_cond_j_169 = m_match_bool_j_168 ? (
                                    var_j_170 = rec_fail_b_28
                                ) : (
                                    void_j_167 = {}
                                )
                        )
                ) : (
                    m_match_cond_j_161 = m_match_bool_j_160 ? (
                            var_j_162 = rec_fail_b_29
                        ) : (
                            void_j_159 = {}
                        )
                )
        ) : (
            m_match_cond_j_153 = m_match_bool_j_152 ? (
                    var_j_154 = rec_fail_b_30
                ) : (
                    void_j_151 = {}
                )
        ));
flatten_fun_j_260 = fun bj_null_j_14 -> (
    bool_j_215 = false;
    fail_b_26 = bool_j_215;
    flatten_fun_j_224 = fun expr_b_25 -> (
        var_j_216 = expr_b_25;
        m_match_bool_j_218 = var_j_216 ~ any;
        m_match_bool_j_221 = var_j_216 ~ bool;
        m_match_cond_j_222 = m_match_bool_j_221 ? (
                bool_j_223 = true
            ) : (
                m_match_cond_j_219 = m_match_bool_j_218 ? (
                        var_j_220 = fail_b_26
                    ) : (
                        void_j_217 = {}
                    )
            ));
    flatten_fun_j_228 = fun bj_null_j_12 -> (
        int_j_225 = 0;
        input_j_226 = input;
        m_bl_i_293 = int_j_225 ~ int;
        m_br_i_294 = input_j_226 ~ int;
        m_b_i_295 = m_bl_i_293 and m_br_i_294;
        binop_j_227 = m_b_i_295 ? (
                c_binop_i_296 = int_j_225 <= input_j_226
            ) : (
                ab_i_297 = abort
            ));
    flatten_fun_j_230 = fun expr_b_27 -> (
        var_j_229 = expr_b_27);
    record_j_231 = {checker = flatten_fun_j_224, generator = flatten_fun_j_228, wrapper = flatten_fun_j_230};
    proj_j_232 = record_j_231.generator;
    int_j_233 = 0;
    appl_j_234 = proj_j_232 int_j_233;
    b_b_21 = appl_j_234;
    bool_j_235 = false;
    fail_b_23 = bool_j_235;
    flatten_fun_j_244 = fun expr_b_22 -> (
        var_j_236 = expr_b_22;
        m_match_bool_j_238 = var_j_236 ~ any;
        m_match_bool_j_241 = var_j_236 ~ int;
        m_match_cond_j_242 = m_match_bool_j_241 ? (
                bool_j_243 = true
            ) : (
                m_match_cond_j_239 = m_match_bool_j_238 ? (
                        var_j_240 = fail_b_23
                    ) : (
                        void_j_237 = {}
                    )
            ));
    flatten_fun_j_246 = fun bj_null_j_13 -> (
        input_j_245 = input);
    flatten_fun_j_248 = fun expr_b_24 -> (
        var_j_247 = expr_b_24);
    record_j_249 = {checker = flatten_fun_j_244, generator = flatten_fun_j_246, wrapper = flatten_fun_j_248};
    proj_j_250 = record_j_249.generator;
    int_j_251 = 0;
    appl_j_252 = proj_j_250 int_j_251;
    a_b_20 = appl_j_252;
    var_j_253 = a_b_20;
    var_j_254 = b_b_21;
    record_j_255 = {a = var_j_253, b = var_j_254};
    record_j_256 = {};
    record_j_257 = {};
    record_j_258 = {a = record_j_256, b = record_j_257};
    record_j_259 = {bj_actual_rec = record_j_255, bj_decl_lbls = record_j_258});
flatten_fun_j_262 = fun expr_b_39 -> (
    var_j_261 = expr_b_39);
record_j_263 = {checker = flatten_fun_j_214, generator = flatten_fun_j_260, wrapper = flatten_fun_j_262};
proj_j_264 = record_j_263.checker;
appl_j_266 = proj_j_264 r_b_40;
check_res_b_41 = appl_j_266;
if_j_274 = check_res_b_41 ? (
        var_j_268 = r
    ) : (
        error_var_j_269 = check_res_b_41;
        assert_pred_j_270 = error_var_j_269;
        assert_res_j_271 = assert_pred_j_270 ? (
                assert_res_true_j_272 = {}
            ) : (
                ab_j_273 = abort
            )
    );
i_result = if_j_274